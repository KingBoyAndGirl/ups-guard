# .env.example
# UPS Guard 环境变量配置示例
# 
# 使用方法：
# 1. 复制此文件为 .env
#    cp .env.example .env
# 
# 2. 根据实际情况修改配置
# 
# 3. 使用 docker-compose 启动服务
#    docker-compose up -d

# ============================================
# NUT (Network UPS Tools) 配置
# ============================================

# UPS 设备名称（在 NUT 中的标识符）
UPS_NAME=ups

# UPS 驱动程序
# 常见驱动：
# - usbhid-ups: 通用 USB HID UPS（APC, CyberPower, Eaton 等）
# - blazer_usb: 山特(SANTAK) 等使用 Megatec/Q1 协议的 UPS
# - nutdrv_qx: 支持 Megatec Q* 协议的通用驱动
# - dummy-ups: 测试/开发模式（不连接真实 UPS）
UPS_DRIVER=usbhid-ups

# UPS 端口
# - auto: 自动检测 USB 设备
# - /dev/usb/hiddev0: 指定 USB HID 设备
# - dummy.dev: 测试模式使用的虚拟设备
UPS_PORT=auto

# UPS 描述（可选）
UPS_DESC=UPS Device

# UPSD 监听地址（通常不需要修改）
# UPSD_LISTEN=0.0.0.0

# UPSD 管理用户（拥有完整权限）
UPSD_USER=admin
UPSD_PASSWORD=secret

# UPSD 监控用户（只读权限，供后端连接）
UPSMON_USER=monuser
UPSMON_PASSWORD=secret

# ============================================
# UPS 品牌识别参考
# ============================================
# 如果自动识别不准确，可以根据 USB Vendor ID 手动设置驱动：
#
# APC (施耐德): 051d -> usbhid-ups
# 山特 (SANTAK): 0463 -> blazer_usb
# CyberPower: 0665 -> usbhid-ups
# 华为 (Huawei): 0764 -> nutdrv_qx
# 伊顿 (Eaton): 06da -> usbhid-ups
# 山特 Castle: 0001 -> nutdrv_qx
#
# 查看已连接 UPS 的 Vendor ID:
#   docker exec ups-guard-nut nut-scanner -U

# ============================================
# Backend 配置
# ============================================

# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Mock 模式（开发/测试时使用，不连接真实 UPS）
# true: 使用模拟数据
# false: 连接真实 NUT 服务器
MOCK_MODE=false

# API Token（用于前后端认证）
# 留空则自动生成随机 token（首次启动时会在日志中显示）
# 建议手动设置一个安全的 token
API_TOKEN=

# 加密密钥（用于加密敏感配置数据，如 SSH 密码）
# 留空则自动生成随机密钥
# 生成方法: openssl rand -base64 32
ENCRYPTION_KEY=

# CORS 允许的源（逗号分隔，通常不需要修改）
# 留空则使用默认配置（允许同域和常见开发端口）
ALLOWED_ORIGINS=

# ============================================
# Frontend 配置
# ============================================

# HTTP 服务端口
HTTP_PORT=80

# ============================================
# 高级配置（通常在 Web UI 中配置）
# ============================================
# 以下配置项通常在 Web UI 的"设置"页面进行配置，
# 无需在环境变量中设置。此处仅作说明。
#
# - 断电后等待时间（分钟）
# - 低电量阈值（百分比）
# - 关机前最终等待时间（秒）
# - 预估续航时间阈值（秒）
# - 轮询间隔（秒）
# - 采样间隔（秒）
# - 历史数据保留天数
# - 清理任务执行间隔（小时）
# - 通知渠道配置
# - 预关机 Hook 配置
